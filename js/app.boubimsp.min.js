$(document).ready(function(){var e='<span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span> ',t='<span class="glyphicon glyphicon-ok" aria-hidden="true"></span> ',s='<span class="glyphicon glyphicon-alert" aria-hidden="true"></span> ';function o(s){var o=new FormData(s[0]),a=new XMLHttpRequest;a.upload.addEventListener("progress",function(e){var t=Math.round(e.loaded/e.total*100);s.find(".progress-bar").width(t+"%")}),a.addEventListener("load",function(e){s.find(".progress-bar").addClass("progress-bar-success")}),a.open("POST","sendPic"),a.send(o),a.onreadystatechange=function(){if(4==a.readyState&&(200==a.status||0==a.status)){var o=$.parseJSON(a.responseText),i=o.result,n=o.type;if("picture_post"==n){var r=$("#wall_id").val();if($("#progress_bar_upload_picture").fadeOut(),document.getElementById("picture_file").value="","SUCCESS"==i)$("#post_elements_div").html(""),$("#loading").show(),$("#post_elements_div").load("../npr/post_elements?u="+r,function(){$("#loading").hide()}),$("#post_textarea").val(""),document.getElementById("post_textarea").disabled=!1,document.getElementById("picture_button").className="btn btn-warning",document.getElementById("smiley_button").className="btn btn-default pull-right",document.getElementById("post_wall_button").className="btn btn-success",document.getElementById("post_wall_button").innerHTML='<span class="glyphicon glyphicon-send"></span>',$.bootstrapGrowl(t+"Ta publication a été mise en ligne !",{type:"success",width:"auto",allow_dismiss:!1});else if(s.find(".progress-bar").width("0%"),"INVALID_EXTENSION"==i)document.getElementById("post_textarea").disabled=!1,document.getElementById("picture_button").className="btn btn-warning",document.getElementById("post_wall_button").className="btn btn-success",document.getElementById("post_wall_button").innerHTML='<span class="glyphicon glyphicon-send"></span>',$.bootstrapGrowl(e+"Ton image doit être au format : <strong>jpg, jpeg, gif ou png</strong>.",{type:"danger",width:"auto",allow_dismiss:!1});else if("TOO_BIG"==i){document.getElementById("post_textarea").disabled=!1,document.getElementById("picture_button").className="btn btn-warning",document.getElementById("post_wall_button").className="btn btn-success",document.getElementById("post_wall_button").innerHTML='<span class="glyphicon glyphicon-send"></span>',$.bootstrapGrowl(e+"Ton image ne peut pas dépasser <strong>10Mo</strong>.",{type:"danger",width:"auto",allow_dismiss:!1})}else if("ERROR_IMPORTATION"==i){document.getElementById("post_textarea").disabled=!1,document.getElementById("picture_button").className="btn btn-warning",document.getElementById("post_wall_button").className="btn btn-success",document.getElementById("post_wall_button").innerHTML='<span class="glyphicon glyphicon-send"></span>',$.bootstrapGrowl(e+"Erreur pendant l'importation de ton image.",{type:"danger",width:"auto",allow_dismiss:!1})}}else"upload_avatar"==n?($("#progress_bar_upload_avatar").fadeOut(),"SUCCESS"==i?($("#avatar_file").get(0).files.length=0,$.bootstrapGrowl(t+"Ta photo de profil a été mise en ligne !",{type:"success",width:"auto",allow_dismiss:!1})):(s.find(".progress-bar").width("0%"),"INVALID_EXTENSION"==i?$.bootstrapGrowl(e+"Ta photo de profil doit être au format : <strong>jpg, jpeg, gif ou png</strong>.",{type:"danger",width:"auto",allow_dismiss:!1}):"TOO_BIG"==i?$.bootstrapGrowl(e+"Ta photo de profil ne peut pas dépasser <strong>5Mo</strong>.",{type:"danger",width:"auto",allow_dismiss:!1}):"ERROR_IMPORTATION"==i&&$.bootstrapGrowl(e+"Erreur pendant l'importation de ta photo de profil.",{type:"danger",width:"auto",allow_dismiss:!1}))):"upload_banner"==n?($("#progress_bar_upload_banner").fadeOut(),"SUCCESS"==i?$.bootstrapGrowl(t+"Ta photo de couverture a été mise en ligne !",{type:"success",width:"auto",allow_dismiss:!1}):(s.find(".progress-bar").width("0%"),"INVALID_EXTENSION"==i?$.bootstrapGrowl(e+"Ta photo de couverture doit être au format : <strong>jpg, jpeg, gif ou png</strong>.",{type:"danger",width:"auto",allow_dismiss:!1}):"TOO_BIG"==i?$.bootstrapGrowl(e+"Ta photo de couverture ne peut pas dépasser <strong>10Mo</strong>.",{type:"danger",width:"auto",allow_dismiss:!1}):"ERROR_IMPORTATION"==i&&$.bootstrapGrowl(e+"Erreur pendant l'importation de ta photo de couverture.",{type:"danger",width:"auto",allow_dismiss:!1}))):"upload_background"==n?($("#progress_bar_upload_background").fadeOut(),"SUCCESS"==i?$.bootstrapGrowl(t+"Ta photo de fond a été mise en ligne !",{type:"success",width:"auto",allow_dismiss:!1}):(s.find(".progress-bar").width("0%"),"INVALID_EXTENSION"==i?$.bootstrapGrowl(e+"Ta photo de fond doit être au format : <strong>jpg, jpeg, gif ou png</strong>.",{type:"danger",width:"auto",allow_dismiss:!1}):"TOO_BIG"==i?$.bootstrapGrowl(e+"Ta photo de fond ne peut pas dépasser <strong>10Mo</strong>.",{type:"danger",width:"auto",allow_dismiss:!1}):"ERROR_IMPORTATION"==i&&$.bootstrapGrowl(e+"Erreur pendant l'importation de ta photo de fond.",{type:"danger",width:"auto",allow_dismiss:!1}))):"upload_msp_avatar"==n?($("#progress_bar_upload_msp_avatar").fadeOut(),"SUCCESS"==i?($("#link_msp_account").modal("hide"),location.reload()):(s.find(".progress-bar").width("0%"),"INVALID_EXTENSION"==i?$.bootstrapGrowl(e+"Ton avatar doit être au format : <strong>jpg, jpeg, gif ou png</strong>.",{type:"danger",width:"auto",allow_dismiss:!1}):"TOO_BIG"==i?$.bootstrapGrowl(e+"Ton avatar ne peut pas dépasser <strong>5Mo</strong>.",{type:"danger",width:"auto",allow_dismiss:!1}):"ERROR_IMPORTATION"==i&&$.bootstrapGrowl(e+"Erreur pendant l'importation de ton avatar.",{type:"danger",width:"auto",allow_dismiss:!1}))):"upload_badge"==n&&($("#progress_bar_upload_badge").fadeOut(),"SUCCESS"==i?location.reload():(s.find(".progress-bar").width("0%"),"INVALID_EXTENSION"==i?$.bootstrapGrowl(e+"Ton badge doit être au format : <strong>jpg, jpeg, gif ou png</strong>.",{type:"danger",width:"auto",allow_dismiss:!1}):"TOO_BIG"==i?$.bootstrapGrowl(e+"Ton badge ne peut pas dépasser <strong>100Ko</strong>.",{type:"danger",width:"auto",allow_dismiss:!1}):"ERROR_IMPORTATION"==i?$.bootstrapGrowl(e+"Erreur pendant l'importation de ton badge.",{type:"danger",width:"auto",allow_dismiss:!1}):"INCORRECT_WITDH_HEIGHT"==i&&$.bootstrapGrowl(e+"Ton badge doit <strong>strictement</strong> être à la taille suivant : <strong>180x180</strong>.",{type:"danger",width:"auto",allow_dismiss:!1})))}}}$('[data-toggle="tooltip"]').tooltip(),$("#update_password_button").click(function(){if(""!=$("#old_text_box").val()&&""!=$("#password_text_box").val()&&""!=$("#confirm_text_box").val()){var o=$("#old_text_box").val(),a=$("#password_text_box").val(),i=$("#confirm_text_box").val();if(/[A-Za-z]/.test(a)&&/[0-9]/.test(a))if(a.length>=5)if(a==i){var n=document.getElementById("update_password_button"),r=document.getElementById("old_text_box"),d=document.getElementById("password_text_box"),l=document.getElementById("confirm_text_box");n.disabled=!0,r.disabled=!0,d.disabled=!0,l.disabled=!0,$.post("action",{action:"update_password",old:o,password:a,confirm:i},function(o,a){if(r.disabled=!1,d.disabled=!1,l.disabled=!1,n.disabled=!1,"success"==a){var i=$.parseJSON(o).status;"SUCCESS"==i?($("#password_text_box").val(""),$("#old_text_box").val(""),$("#confirm_text_box").val(""),$.bootstrapGrowl(t+"Ton mot de passe a été changé.",{type:"success",width:"auto",allow_dismiss:!1})):"TOO_FAST"==i?$.bootstrapGrowl(s+"Hé ! Tu vas un petit peu vite là. <strong>Réessaie dans quelques secondes</strong>.",{type:"warning",width:"auto",allow_dismiss:!1}):"WRONG_PASSWORD"==i?$.bootstrapGrowl(e+"Hum... ton mot de passe actuel n'est pas le bon.",{type:"danger",width:"auto",allow_dismiss:!1}):"ACCOUNT_DISABLED"==i?$.bootstrapGrowl(e+"Désolé, mais le service de compte est actuellement indisponible.",{type:"danger",width:"auto",allow_dismiss:!1}):$.bootstrapGrowl(e+"Une erreur inconnue s'est produite.",{type:"danger",width:"auto",allow_dismiss:!1})}else $.bootstrapGrowl(e+"Désolé mais le serveur est <strong>indisponible</strong>.",{type:"danger",width:"auto",allow_dismiss:!1})})}else $.bootstrapGrowl(e+"Va moins vite ! Les mots de passe ne sont pas identiques.",{type:"danger",width:"auto",allow_dismiss:!1});else $.bootstrapGrowl(e+"Ton nouveau mot de passe doit avoir au <strong>minimum 5 caractères</strong>.",{type:"danger",width:"auto",allow_dismiss:!1});else $.bootstrapGrowl(e+"Pour plus de sécurité, ton mot de passe doit comporter <strong>des chiffres et ainsi que des lettres</strong>.",{type:"danger",width:"auto",allow_dismiss:!1})}else $.bootstrapGrowl(e+"Tu dois remplir tous les champs.",{type:"danger",width:"auto",allow_dismiss:!1})}),$("#username_text_box").keyup(function(e){13==e.keyCode&&$("#login_button").click()}),$("#password_text_box").keyup(function(e){13==e.keyCode&&$("#login_button").click()}),$("#login_button").click(function(){if(""!=$("#username_text_box").val())if(""!=$("#password_text_box").val()){var t=$("#page_redirect_hidden").val(),o=$("#username_text_box").val(),a=$("#password_text_box").val(),i=document.getElementById("login_button"),n=document.getElementById("username_text_box"),r=document.getElementById("password_text_box"),d=document.getElementById("remember_checkbox").checked;i.disabled=!0,i.value="Connexion...",n.disabled=!0,r.disabled=!0,$.post("action",{action:"login",username:o,password:a,remember:d},function(a,d){if(n.disabled=!1,r.disabled=!1,i.disabled=!1,i.value="Se connecter","success"==d){var l=$.parseJSON(a),u=l.status;if("SUCCESS"==u)""==t?window.location.replace("/"):window.location.replace(t);else if("INCORRECT_PASSWORD"==u)$.bootstrapGrowl(e+" Hum... le mot de passe est <strong>incorrect</strong>.",{type:"danger",width:"auto",allow_dismiss:!1});else if("USER_BANNED"==u){var c=l.reason,p=l.time_left;document.getElementById("banned_reason_p").innerHTML=c,document.getElementById("time_left_strong").innerHTML=p,$("#account_banned_modal").modal("show")}else"USER_NOT_ACTIVATED"==u?$.bootstrapGrowl(s+"Le compte n'est pas encore activé.<br>Pour l'activer, <strong>va voir l'email qui t'a été envoyé.</strong><br>Si tu as perdu l'email de confirmation, <a href=\"lostConfirmation?u="+o+'"">clique ici</a> pour en envoyer un autre.',{type:"info",width:"auto",allow_dismiss:!1}):"USER_NOT_EXIST"==u?$.bootstrapGrowl(e+"Ce pseudo n'existe pas. <a href=\"login?t=register&u="+o+'">Clique ici</a> pour créer le compte <strong>'+o+"</strong>.",{type:"danger",width:"auto",allow_dismiss:!1}):"TOO_FAST"==u?$.bootstrapGrowl(s+"Hé ! Tu vas un petit peu vite là. <strong>Réessaie dans quelques secondes</strong>.",{type:"warning",width:"auto",allow_dismiss:!1}):"LOGIN_DISABLED"==u?$.bootstrapGrowl(e+"Désolé, mais le service de connexion est actuellement indisponible. Merci de réessayer plus tard.",{type:"danger",width:"auto",allow_dismiss:!1}):$.bootstrapGrowl(e+"Une erreur inconnue s'est produite.",{type:"danger",width:"auto",allow_dismiss:!1})}else $.bootstrapGrowl(e+"Désolé mais le serveur est <strong>indisponible</strong>.",{type:"danger",width:"auto",allow_dismiss:!1})})}else $.bootstrapGrowl(e+"Bon essaie, mais tu as besoin d'un mot de passe.",{type:"danger",width:"auto",allow_dismiss:!1});else $.bootstrapGrowl(e+"Tu ne peux pas te connecter sans un pseudo.",{type:"danger",width:"auto",allow_dismiss:!1})}),$("#send_email_confirmation_button").click(function(){var t=$("#username_text_box").val(),o=$("#email_address_text_box").val();if(t=t.trim(),o=o.trim(),""!=t&&""!=o){if(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(o)){var a=document.getElementById("send_email_confirmation_button"),i=document.getElementById("username_text_box"),n=document.getElementById("email_address_text_box");a.disabled=!0,a.value="Envoie...",i.disabled=!0,n.disabled=!0,$.post("action",{action:"lost_confirmation",username:t,email_address:o},function(o,r){if(i.disabled=!1,n.disabled=!1,a.disabled=!1,a.value="Envoyer","success"==r){var d=$.parseJSON(o).status;"SUCCESS"==d?window.location.replace("login"):"TOO_FAST"==d?$.bootstrapGrowl(s+"Hé ! Tu vas un petit peu vite là. <strong>Réessaie dans quelques secondes</strong>.",{type:"warning",width:"auto",allow_dismiss:!1}):"USER_EMAIL_NOT_MATCH"==d?$.bootstrapGrowl(e+"Le pseudo et l'adresse email ne <strong>correspondent pas</strong>.",{type:"danger",width:"auto",allow_dismiss:!1}):"NEED_TO_WAIT"==d?$.bootstrapGrowl(e+"Tu as déjà re-envoyé un email de confirmation <strong>il y a moins de  30 minutes</strong>. Tu dois encore attendre pour en re-envoyer un autre.",{type:"danger",width:"auto",allow_dismiss:!1}):"USER_ALREADY_ACTIVATED"==d?window.location.replace("login?user="+t):"ACCOUNT_DISABLED"==d?$.bootstrapGrowl(e+"Désolé, mais le service de compte est actuellement indisponible.",{type:"danger",width:"auto",allow_dismiss:!1}):$.bootstrapGrowl(e+"Une erreur inconnue s'est produite.",{type:"danger",width:"auto",allow_dismiss:!1})}else $.bootstrapGrowl(e+"Désolé mais le serveur est <strong>indisponible</strong>.",{type:"danger",width:"auto",allow_dismiss:!1})})}else $.bootstrapGrowl(e+"L'adresse email que tu as entré n'est pas valide.",{type:"danger",width:"auto",allow_dismiss:!1})}else $.bootstrapGrowl(e+"Tu dois remplir tous les champs.",{type:"danger",width:"auto",allow_dismiss:!1})}),$("#send_email_password_button").click(function(){var t=$("#username_text_box").val(),o=$("#email_address_text_box").val();if(t=t.trim(),o=o.trim(),""!=t&&""!=o){if(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(o)){var a=document.getElementById("send_email_password_button"),i=document.getElementById("username_text_box"),n=document.getElementById("email_address_text_box");a.disabled=!0,a.value="Envoie...",i.disabled=!0,n.disabled=!0,$.post("action",{action:"lost_password",username:t,email_address:o},function(t,o){if(i.disabled=!1,n.disabled=!1,a.disabled=!1,a.value="Envoyer","success"==o){var r=$.parseJSON(t).status;"SUCCESS"==r?window.location.replace("login"):"TOO_FAST"==r?$.bootstrapGrowl(s+"Hé ! Tu vas un petit peu vite là. <strong>Réessaie dans quelques secondes</strong>.",{type:"warning",width:"auto",allow_dismiss:!1}):"USER_EMAIL_NOT_MATCH"==r?$.bootstrapGrowl(e+"Le pseudo et l'adresse email ne <strong>correspondent pas</strong>.",{type:"danger",width:"auto",allow_dismiss:!1}):"NEED_TO_WAIT"==r?$.bootstrapGrowl(e+"Tu as déjà envoyé un email d'oublie de mot de passe <strong>il y a moins de  30 minutes</strong>. Tu dois encore attendre pour en re-envoyer un autre.",{type:"danger",width:"auto",allow_dismiss:!1}):"ACCOUNT_DISABLED"==r?$.bootstrapGrowl(e+"Désolé, mais le service de compte est actuellement indisponible.",{type:"danger",width:"auto",allow_dismiss:!1}):$.bootstrapGrowl(e+"Une erreur inconnue s'est produite.",{type:"danger",width:"auto",allow_dismiss:!1})}else $.bootstrapGrowl(e+"Désolé mais le serveur est <strong>indisponible</strong>.",{type:"danger",width:"auto",allow_dismiss:!1})})}else $.bootstrapGrowl(e+"L'adresse email que tu as entré n'est pas valide.",{type:"danger",width:"auto",allow_dismiss:!1})}else $.bootstrapGrowl(e+"Tu dois remplir tous les champs.",{type:"danger",width:"auto",allow_dismiss:!1})}),$("#post_comment_button").click(function(){var t=$("#comment_textarea").val();if((t=t.trim()).length>=10){var o=$("#news_id").val(),a=document.getElementById("post_comment_button"),i=document.getElementById("comment_textarea");a.disabled=!0,a.value="Envoie de ton commentaire...",i.disabled=!0,$.post("action",{action:"post_comment_news",comment:t,news_id:o},function(t,o){if(i.disabled=!1,a.disabled=!1,a.value="Poster le commentaire","success"==o){var n=$.parseJSON(t).status;"SUCCESS"==n?location.reload():"TOO_FAST"==n?$.bootstrapGrowl(s+"Hé ! Tu vas un petit peu vite là. <strong>Réessaie dans quelques secondes</strong>.",{type:"warning",width:"auto",allow_dismiss:!1}):"NEWS_COMMENT_DISABLED"==n?$.bootstrapGrowl(e+"Désolé, mais le service des commentaires des news est actuellement indisponible.",{type:"danger",width:"auto",allow_dismiss:!1}):$.bootstrapGrowl(e+"Une erreur inconnue s'est produite.",{type:"danger",width:"auto",allow_dismiss:!1})}else $.bootstrapGrowl(e+"Désolé mais le serveur est <strong>indisponible</strong>.",{type:"danger",width:"auto",allow_dismiss:!1})})}else $.bootstrapGrowl(e+"Ton commentaire doit avoir au minimum <strong>10 caractères</strong>.",{type:"danger",width:"auto",allow_dismiss:!1})}),$("#register_button").click(function(){var o=$("#username_text_box_register").val(),a=$("#password_text_box_register").val(),i=$("#email_address_text_box_register").val(),n=$("#confirm_password_text_box_register").val();if(o=o.trim(),i=i.trim(),""!=o&&""!=a&&""!=i)if($.isNumeric(o))$.bootstrapGrowl(e+"Ton pseudo ne peut pas avoir seulement des chiffres.",{type:"danger",width:"auto",allow_dismiss:!1});else{if(/[A-Za-z]/.test(a)&&/[0-9]/.test(a))if(a==n){if(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(i))if(o.length>=4&&a.length>=5)if(1==document.getElementById("accept_rules_checkbox").checked){var r=grecaptcha.getResponse();if(""!=r){var d=document.getElementById("register_button"),l=document.getElementById("username_text_box_register"),u=document.getElementById("password_text_box_register"),c=document.getElementById("confirm_password_text_box_register"),p=document.getElementById("email_address_text_box_register"),_=$("#user_id_hidden").val(),m=$("#sponsorship_key_hidden").val();d.disabled=!0,l.disabled=!0,u.disabled=!0,c.disabled=!0,p.disabled=!0,$.post("action",{action:"register",username:o,password:a,email_address:i,user_id_sponsorship:_,sponsorship_key:m,recaptcha_reponse:r},function(o,a){if(grecaptcha.reset(),l.disabled=!1,u.disabled=!1,c.disabled=!1,p.disabled=!1,d.disabled=!1,"success"==a){var i=$.parseJSON(o).status;"SUCCESS"==i?($("#create_account_modal").modal("hide"),$("#username_text_box_register").val(""),$("#password_text_box_register").val(""),$("#confirm_password_text_box_register").val(""),$("#email_address_text_box_register").val(""),$.bootstrapGrowl(t+"Ton compte a été créé ! Il faut maintenant que tu actives ton compte, clique sur le lien qui t'a été envoyé par email !",{type:"success",width:"auto",allow_dismiss:!1})):"USER_ALREADY_TAKEN"==i?$.bootstrapGrowl(e+"Zut, ce pseudo est <strong>déjà utilisé</strong>.",{type:"danger",width:"auto",allow_dismiss:!1}):"TOO_FAST"==i?$.bootstrapGrowl(s+"Hé ! Tu vas un petit peu vite là. <strong>Réessaie dans quelques secondes</strong>.",{type:"warning",width:"auto",allow_dismiss:!1}):"CREATE_ACCOUNT_DISABLED"==i?$.bootstrapGrowl(e+"Désolé, mais la création de compte est actuellement indisponible.",{type:"danger",width:"auto",allow_dismiss:!1}):$.bootstrapGrowl(e+"Une erreur inconnue s'est produite.",{type:"danger",width:"auto",allow_dismiss:!1})}else $.bootstrapGrowl(e+"Désolé mais le serveur est <strong>indisponible</strong>.",{type:"danger",width:"auto",allow_dismiss:!1})})}else $.bootstrapGrowl(e+"Tu dois remplir le ReCaptcha.",{type:"danger",width:"auto",allow_dismiss:!1})}else $.bootstrapGrowl(e+"Tu dois avoir lu et accepté les règles du site.",{type:"danger",width:"auto",allow_dismiss:!1});else $.bootstrapGrowl(e+"Ton pseudo et ton mot de passe doivent avoir au <strong>minimum 5 caractères</strong>.",{type:"danger",width:"auto",allow_dismiss:!1});else $.bootstrapGrowl(e+"L'adresse email que tu as entré n'est pas valide.",{type:"danger",width:"auto",allow_dismiss:!1})}else $.bootstrapGrowl(e+"Va moins vite ! Les mots de passe ne sont pas identiques.",{type:"danger",width:"auto",allow_dismiss:!1});else $.bootstrapGrowl(e+"Pour plus de sécurité, ton mot de passe doit comporter <strong>des chiffres et ainsi que des lettres</strong>.",{type:"danger",width:"auto",allow_dismiss:!1})}else $.bootstrapGrowl(e+"Tu dois remplir tous les champs.",{type:"danger",width:"auto",allow_dismiss:!1})}),$("#reset_password_button").click(function(){var t=$("#password_text_box").val(),o=$("#confirm_text_box").val();if(t=t.trim(),o=o.trim(),""!=t&&""!=o){var a=$("#id").val(),i=$("#t").val();if(/[A-Za-z]/.test(t)&&/[0-9]/.test(t))if(t.length>=5)if(t==o){var n=document.getElementById("reset_password_button"),r=document.getElementById("password_text_box"),d=document.getElementById("confirm_text_box");n.disabled=!0,n.value="Mise-à-jour du mot de passe...",r.disabled=!0,d.disabled=!0,$.post("action",{action:"reset_password",password:t,confirm:o,id:a,t:i},function(t,o){if(r.disabled=!1,d.disabled=!1,n.disabled=!1,n.value="Changer de mot de passe","success"==o){var a=$.parseJSON(t),i=a.status;if("SUCCESS"==i){var l=a.username;window.location.replace("login?user="+l)}else"TOO_FAST"==i?$.bootstrapGrowl(s+"Hé ! Tu vas un petit peu vite là. <strong>Réessaie dans quelques secondes</strong>.",{type:"warning",width:"auto",allow_dismiss:!1}):"TOKEN_INVALID"==i?$.bootstrapGrowl(e+'Le token a expiré. <a href="lostPassword">Clique ici</a> pour re-envoyer un email afin de changer ton mot de passe.',{type:"danger",width:"auto",allow_dismiss:!1}):"ACCOUNT_DISABLED"==i?$.bootstrapGrowl(e+"Désolé, mais le service de compte est actuellement indisponible.",{type:"danger",width:"auto",allow_dismiss:!1}):$.bootstrapGrowl(e+"Une erreur inconnue s'est produite.",{type:"danger",width:"auto",allow_dismiss:!1})}else $.bootstrapGrowl(e+"Désolé mais le serveur est <strong>indisponible</strong>.",{type:"danger",width:"auto",allow_dismiss:!1})})}else $.bootstrapGrowl(e+"Va moins vite ! Les mots de passe ne sont pas identiques.",{type:"danger",width:"auto",allow_dismiss:!1});else $.bootstrapGrowl(e+"Ton nouveau mot de passe doit avoir au <strong>minimum 5 caractères</strong>.",{type:"danger",width:"auto",allow_dismiss:!1});else $.bootstrapGrowl(e+"Pour plus de sécurité, ton mot de passe doit comporter <strong>des chiffres et ainsi que des lettres</strong>.",{type:"danger",width:"auto",allow_dismiss:!1})}else $.bootstrapGrowl(e+"Tu dois remplir tous les champs.",{type:"danger",width:"auto",allow_dismiss:!1})}),$(".delete").click(function(){var t=this,o=$(t).attr("comment_id");t.disabled=!0,$.post("action",{action:"delete_comment_news",comment_id:o},function(o,a){if(t.disabled=!1,"success"==a){var i=$.parseJSON(o).status;"SUCCESS"==i?location.reload():"TOO_FAST"==i?$.bootstrapGrowl(s+"Hé ! Tu vas un petit peu vite là. <strong>Réessaie dans quelques secondes</strong>.",{type:"warning",width:"auto",allow_dismiss:!1}):"NEWS_COMMENT_DISABLED"==i?$.bootstrapGrowl(e+"Désolé, mais le service des commentaires des news est actuellement indisponible.",{type:"danger",width:"auto",allow_dismiss:!1}):$.bootstrapGrowl(e+"Une erreur inconnue s'est produite.",{type:"danger",width:"auto",allow_dismiss:!1})}else $.bootstrapGrowl(e+"Désolé mais le serveur est <strong>indisponible</strong>.",{type:"danger",width:"auto",allow_dismiss:!1})})}),$("#mb_create_account_button").click(function(){var t=$("#color_select").val(),o=$("input[name='sexe_radio']:checked").val();if("Fille"==o||"Garçon"==o)if("Rouge"==t||"Bleu"==t||"Vert"==t||"Jaune"==t||"Noir"==t||"Blanc"==t||"Violet"==t||"Orange"==t)if(1==document.getElementById("accept_rules_checkbox").checked){var a=document.getElementById("mb_create_account_button");a.disabled=!0,a.value="Création de ton compte... Patiente...",$.post("../action",{action:"mb_create_account",color:t,sexe:o},function(t,o){if(a.disabled=!1,a.value="Crée-moi mon compte MovieBook !","success"==o){var i=$.parseJSON(t).status;"SUCCESS"==i?location.reload():"MB_CREATE_ACCOUNT_DISABLED"==i?$.bootstrapGrowl(e+"Désolé, mais la création de compte MovieBook est actuellement indisponible. Merci de réessaye plus tard.",{type:"danger",width:"auto",allow_dismiss:!1}):"TOO_FAST"==i?$.bootstrapGrowl(s+"Hé ! Tu vas un petit peu vite là. <strong>Réessaie dans quelques secondes</strong>.",{type:"warning",width:"auto",allow_dismiss:!1}):$.bootstrapGrowl(e+"Une erreur inconnue s'est produite.",{type:"danger",width:"auto",allow_dismiss:!1})}else $.bootstrapGrowl(e+"Désolé mais le serveur est <strong>indisponible</strong>.",{type:"danger",width:"auto",allow_dismiss:!1})})}else $.bootstrapGrowl(e+"Tu dois avoir lu et accepté les règles de <strong>MovieBook</strong>.",{type:"danger",width:"auto",allow_dismiss:!1});else $.bootstrapGrowl(e+"Tu dois choisir une couleur.",{type:"danger",width:"auto",allow_dismiss:!1});else $.bootstrapGrowl(e+"Tu dois choisir un sexe.",{type:"danger",width:"auto",allow_dismiss:!1})}),$("#link_msp_account_button").click(function(){var t=$("#mb_link_account_username_text_box").val(),a=$("#mb_link_account_level_text_box").val();t=t.trim(),a=a.trim();var i=$("input[name='mb_link_account_is_vip_radio_button']:checked").val();if(""!=t&&""!=a){if(/^\d+$/.test(a))if(a>0)if("yes"==i||"no"==i){var n=document.getElementById("link_msp_account_button"),r=document.getElementById("mb_link_account_username_text_box"),d=document.getElementById("mb_link_account_level_text_box");r.disabled=!0,d.disabled=!0,n.disabled=!0,$.post("../action",{action:"mb_link_msp_account",msp_username:t,msp_level:a,is_vip:i},function(t,a){if(r.disabled=!1,d.disabled=!1,n.disabled=!1,"success"==a){var i=$.parseJSON(t).status;"SUCCESS"==i?0!=$("#msp_avatar_file").get(0).files.length?($("#progress_bar_upload_msp_avatar").fadeIn(),o($("#msp_avatar_form"))):($("#link_msp_account").modal("hide"),location.reload()):"ERROR"==i?$.bootstrapGrowl(e+"Ce pseudo MSP n'existe pas.",{type:"danger",width:"auto",allow_dismiss:!1}):"TOO_FAST"==i?$.bootstrapGrowl(s+"Hé ! Tu vas un petit peu vite là. <strong>Réessaie dans quelques secondes</strong>.",{type:"warning",width:"auto",allow_dismiss:!1}):$.bootstrapGrowl(e+"Une erreur inconnue s'est produite.",{type:"danger",width:"auto",allow_dismiss:!1})}else $.bootstrapGrowl(e+"Désolé mais le serveur est <strong>indisponible</strong>.",{type:"danger",width:"auto",allow_dismiss:!1})})}else $.bootstrapGrowl(e+"Tu dois indiquer si tu es VIP ou non.",{type:"danger",width:"auto",allow_dismiss:!1});else $.bootstrapGrowl(e+"Ton niveau ne peut pas être 0.",{type:"danger",width:"auto",allow_dismiss:!1});else $.bootstrapGrowl(e+"Il ne peut y avoir des lettres dans ton niveau.",{type:"danger",width:"auto",allow_dismiss:!1})}else $.bootstrapGrowl(e+"Tu dois entrer le pseudo et le niveau de ton compte MSP.",{type:"danger",width:"auto",allow_dismiss:!1})}),$("#save_edits_msp_account_button").click(function(){var t=$("#mb_edit_account_level_text_box").val();t=t.trim();var a=$("input[name='mb_edit_account_is_vip_radio_button']:checked").val();if(""!=t){if(/^\d+$/.test(t))if(t>0)if("yes"==a||"no"==a){var i=document.getElementById("save_edits_msp_account_button"),n=document.getElementById("mb_edit_account_level_text_box");n.disabled=!0,i.disabled=!0,$.post("../action",{action:"mb_save_edits_msp_account",msp_level:t,is_vip:a},function(t,a){if(n.disabled=!1,i.disabled=!1,"success"==a){var r=$.parseJSON(t).status;"SUCCESS"==r?0!=$("#msp_avatar_file").get(0).files.length?($("#progress_bar_upload_msp_avatar").fadeIn(),o($("#msp_avatar_form"))):($("#link_msp_account").modal("hide"),location.reload()):"TOO_FAST"==r?$.bootstrapGrowl(s+"Hé ! Tu vas un petit peu vite là. <strong>Réessaie dans quelques secondes</strong>.",{type:"warning",width:"auto",allow_dismiss:!1}):$.bootstrapGrowl(e+"Une erreur inconnue s'est produite.",{type:"danger",width:"auto",allow_dismiss:!1})}else $.bootstrapGrowl(e+"Désolé mais le serveur est <strong>indisponible</strong>.",{type:"danger",width:"auto",allow_dismiss:!1})})}else $.bootstrapGrowl(e+"Tu dois indiquer si tu es VIP ou non.",{type:"danger",width:"auto",allow_dismiss:!1});else $.bootstrapGrowl(e+"Ton niveau ne peut pas être 0.",{type:"danger",width:"auto",allow_dismiss:!1});else $.bootstrapGrowl(e+"Il ne peut y avoir des lettres dans ton niveau.",{type:"danger",width:"auto",allow_dismiss:!1})}else $.bootstrapGrowl(e+"Tu dois entrer le niveau de ton compte MSP.",{type:"danger",width:"auto",allow_dismiss:!1})}),$("#dislink_msp_account_button").click(function(){var t=document.getElementById("dislink_msp_account_button");t.disabled=!0,$.post("../action",{action:"dislink_msp_account"},function(o,a){if(t.disabled=!1,"success"==a){var i=$.parseJSON(o).status;"SUCCESS"==i?location.reload():"TOO_FAST"==i?$.bootstrapGrowl(s+"Hé ! Tu vas un petit peu vite là. <strong>Réessaie dans quelques secondes</strong>.",{type:"warning",width:"auto",allow_dismiss:!1}):$.bootstrapGrowl(e+"Une erreur inconnue s'est produite.",{type:"danger",width:"auto",allow_dismiss:!1})}else $.bootstrapGrowl(e+"Désolé mais le serveur est <strong>indisponible</strong>.",{type:"danger",width:"auto",allow_dismiss:!1})})}),$("#mb_save_info_button").click(function(){var o=$("#name_text_box").val(),a=$("#date_of_birth_text_box").val(),i=$("#description_text_box").val();o=o.trim(),a=a.trim(),i=i.trim();var n=document.getElementById("mb_save_info_button"),r=document.getElementById("name_text_box"),d=document.getElementById("date_of_birth_text_box"),l=document.getElementById("description_text_box");r.disabled=!0,d.disabled=!0,l.disabled=!0,n.disabled=!0,$.post("../action",{action:"mb_update_info",name:o,date_of_birth:a,description:i},function(u,c){if(r.disabled=!1,d.disabled=!1,l.disabled=!1,n.disabled=!1,"success"==c){var p=$.parseJSON(u).status;if("SUCCESS"==p)if("undefined"!=typeof name_label){if(document.getElementById("name_label").innerHTML=""==o?"<strong>Prénom/surnom : </strong>aucun":"<strong>Prénom/surnom : </strong>"+o,document.getElementById("date_of_birth_label").innerHTML=""==a?"<strong>Date d'anniversaire : </strong>aucune":"<strong>Date d'anniversaire : </strong>"+a,""==i)document.getElementById("description_label").innerHTML="";else{i=i.replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#!\/%=~_|])/gi,"<a target='_blank' href='$1'>$1</a>"),document.getElementById("description_label").innerHTML="<br><br>"+(i+"").replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,"$1<br>$2")}$("#name_text_box").toggle(),$("#date_of_birth_text_box").toggle(),$("#description_text_box").toggle(),$("#mb_save_info_button").toggle(),$.bootstrapGrowl(t+"Tes informations ont été sauvegardées.",{type:"success",width:"auto",allow_dismiss:!1})}else location.reload();else"UPDATE_INFO_MB_ACCOUNT_DISABLED"==p?$.bootstrapGrowl(e+"Désolé, l'ajout d'informations est actuellement indisponible. Merci de réessayer plus tard.",{type:"danger",width:"auto",allow_dismiss:!1}):"TOO_FAST"==p?$.bootstrapGrowl(s+"Hé ! Tu vas un petit peu vite là. <strong>Réessaie dans quelques secondes</strong>.",{type:"warning",width:"auto",allow_dismiss:!1}):$.bootstrapGrowl(e+"Une erreur inconnue s'est produite.",{type:"danger",width:"auto",allow_dismiss:!1})}else $.bootstrapGrowl(e+"Désolé mais le serveur est <strong>indisponible</strong>.",{type:"danger",width:"auto",allow_dismiss:!1})})}),$(".add_friend_button").click(function(){var t=this,o=$(t).attr("page"),a=$(t).attr("user_id");t.disabled=!0,$.post("https://acoustical-kettles.000webhostapp.com/action",{action:"mb_request_friend",user_id:a},function(i,n){if(t.disabled=!1,"success"==n){var r=$.parseJSON(i).status;"SUCCESS"==r?"discover"==o||"friends"==o||"search"==o?(document.getElementById("add_friend_button_span_"+a).remove(),document.getElementById("spawn_text_friend_request_sent_span_"+a).innerHTML="Demande envoyée."):location.reload():"FRIENDS_DISABLED"==r?$.bootstrapGrowl(e+"Désolé, mais le service des amis est actuellement indisponible. Merci de réessayer plus tard.",{type:"danger",width:"auto",allow_dismiss:!1}):"TOO_FAST"==r?$.bootstrapGrowl(s+"Hé ! Tu vas un petit peu vite là. <strong>Réessaie dans quelques secondes</strong>.",{type:"warning",width:"auto",allow_dismiss:!1}):$.bootstrapGrowl(e+"Une erreur inconnue s'est produite.",{type:"danger",width:"auto",allow_dismiss:!1})}else $.bootstrapGrowl(e+"Désolé mais le serveur est <strong>indisponible</strong>.",{type:"danger",width:"auto",allow_dismiss:!1})})}),$("#cancel_friend_request_button").click(function(){var t=$("#wall_id").val(),o=document.getElementById("cancel_friend_request_button");o.disabled=!0,$.post("../action",{action:"mb_cancel_request_friend",user_id:t},function(t,a){if(o.disabled=!1,"success"==a){var i=$.parseJSON(t).status;"SUCCESS"==i?location.reload():"FRIENDS_DISABLED"==i?$.bootstrapGrowl(e+"Désolé, mais le service des amis est actuellement indisponible. Merci de réessayer plus tard.",{type:"danger",width:"auto",allow_dismiss:!1}):"TOO_FAST"==i?$.bootstrapGrowl(s+"Hé ! Tu vas un petit peu vite là. <strong>Réessaie dans quelques secondes</strong>.",{type:"warning",width:"auto",allow_dismiss:!1}):$.bootstrapGrowl(e+"Une erreur inconnue s'est produite.",{type:"danger",width:"auto",allow_dismiss:!1})}else $.bootstrapGrowl(e+"Désolé mais le serveur est <strong>indisponible</strong>.",{type:"danger",width:"auto",allow_dismiss:!1})})}),$(".choice_friend_button").click(function(){var t=this,o=$(t).attr("user_id"),a=$(t).attr("type"),i=$(t).attr("form_request");t.disabled=!0,$.post("https://acoustical-kettles.000webhostapp.com/action",{action:"mb_accept_decline_friend_request",user_id:o,type:a},function(o,a){if(t.disabled=!1,"success"==a){var n=$.parseJSON(o),r=n.status;if("SUCCESS"==r){n.type;if("true"==i){var d=n.request_id;document.getElementById("request_form_"+d).remove()}else"false"==i&&location.reload()}else"TOO_FAST"==r?$.bootstrapGrowl(s+"Hé ! Tu vas un petit peu vite là. <strong>Réessaie dans quelques secondes</strong>.",{type:"warning",width:"auto",allow_dismiss:!1}):"FRIENDS_DISABLED"==r?$.bootstrapGrowl(e+"Désolé, mais le service des amis est actuellement indisponible. Merci de réessayer plus tard.",{type:"danger",width:"auto",allow_dismiss:!1}):$.bootstrapGrowl(e+"Une erreur inconnue s'est produite.",{type:"danger",width:"auto",allow_dismiss:!1})}else $.bootstrapGrowl(e+"Désolé mais le serveur est <strong>indisponible</strong>.",{type:"danger",width:"auto",allow_dismiss:!1})})}),$(".delete_friend_button").click(function(){var t=this,o=$(t).attr("user_id"),a=$(t).attr("page");t.disabled=!0,$.post("https://acoustical-kettles.000webhostapp.com/action",{action:"mb_delete_friend",user_id:o},function(o,i){if(t.disabled=!1,"success"==i){var n=$.parseJSON(o),r=n.status;if("SUCCESS"==r){if("profile"==a)location.reload();else if("friends"==a){var d=document.getElementById("number_of_friend_span").innerHTML;document.getElementById("number_of_friend_span").innerHTML=+d-1;var l=n.friend_id;document.getElementById("friend_form_"+l).remove()}}else"FRIENDS_DISABLED"==r?$.bootstrapGrowl(e+"Désolé, mais le service des amis est actuellement indisponible. Merci de réessayer plus tard.",{type:"danger",width:"auto",allow_dismiss:!1}):"TOO_FAST"==r?$.bootstrapGrowl(s+"Hé ! Tu vas un petit peu vite là. <strong>Réessaie dans quelques secondes</strong>.",{type:"warning",width:"auto",allow_dismiss:!1}):$.bootstrapGrowl(e+"Une erreur inconnue s'est produite.",{type:"danger",width:"auto",allow_dismiss:!1})}else $.bootstrapGrowl(e+"Désolé mais le serveur est <strong>indisponible</strong>.",{type:"danger",width:"auto",allow_dismiss:!1})})}),$("#mb_search_button").click(function(){var t=$("#mb_search_text_box").val();t=t.trim();var s=document.getElementById("search_type_select"),o=s.options[s.selectedIndex].getAttribute("id"),a=document.getElementById("mb_search_button");""!=t?t.length>=4?"1"==o?(a.disabled=!0,window.location.replace("search?q="+t+"&t="+o)):"2"==o&&(a.disabled=!0,window.location.replace("search?q="+t+"&t="+o)):$.bootstrapGrowl(e+"Tu dois écrire quelque chose d'<strong>au moins 4 caractères</strong>.",{type:"danger",width:"auto",allow_dismiss:!1}):$.bootstrapGrowl(e+"Tu dois écrire quelque chose.",{type:"danger",width:"auto",allow_dismiss:!1})}),$("#mb_search_text_box").keyup(function(e){13==e.keyCode&&$("#mb_search_button").click()}),$("#link_label_add_name").click(function(){$("#name_text_box").toggle(),$("#date_of_birth_text_box").toggle(),$("#description_text_box").toggle(),$("#mb_save_info_button").toggle()}),$("#link_label_add_birthday_date").click(function(){$("#name_text_box").toggle(),$("#date_of_birth_text_box").toggle(),$("#description_text_box").toggle(),$("#mb_save_info_button").toggle()}),$("#link_label_add_description").click(function(){$("#name_text_box").toggle(),$("#date_of_birth_text_box").toggle(),$("#description_text_box").toggle(),$("#mb_save_info_button").toggle()}),$("#link_label_update_info").click(function(){$("#name_text_box").toggle(),$("#date_of_birth_text_box").toggle(),$("#description_text_box").toggle(),$("#mb_save_info_button").toggle()}),$("#mb_link_account_username_text_box").keyup(function(e){13==e.keyCode&&$("#link_msp_account_button").click()}),$("#music_background_checkbox").change(function(){var e=document.getElementById("youtube_link_text_box"),t=document.getElementById("music_link_button_visible_checkbox");this.checked?(t.disabled=!1,e.disabled=!1):(e.disabled=!0,t.disabled=!0)}),$("#post_wall_button").click(function(){var a=$("#post_textarea").val();if(""!=(a=a.trim())){var i=$("#wall_id").val();document.getElementById("post_textarea").disabled=!0,button=this,document.getElementById("picture_button").className="btn btn-warning disabled",document.getElementById("smiley_button").className="btn btn-default pull-right disabled",button.className="btn btn-success disabled",button.innerHTML="Patience...",$.post("https://acoustical-kettles.000webhostapp.com/action",{action:"mb_post_wall",content:a,wall_id:i},function(a,i){if("success"==i){var n=$.parseJSON(a),r=n.status;if("SUCCESS"==r)if(0!=$("#picture_file").get(0).files.length){var d=n.post_id;document.getElementById("post_id_hidden").value=d,$("#progress_bar_upload_picture").fadeIn(),o($("#mb_post_wall_form"))}else{var l=$("#wall_id").val();$("#post_elements_div").html(""),$("#loading").show(),$("#post_elements_div").load("../npr/post_elements?u="+l,function(){$("#loading").hide()}),$("#post_textarea").val("");var u=document.getElementById("post_textarea");u.disabled=!1,document.getElementById("picture_button").className="btn btn-warning",document.getElementById("smiley_button").className="btn btn-default pull-right",button.className="btn btn-success",button.innerHTML='<span class="glyphicon glyphicon-send"></span>',$.bootstrapGrowl(t+"Ta publication a été mise en ligne !",{type:"success",width:"auto",allow_dismiss:!1})}else u.disabled=!1,document.getElementById("picture_button").className="btn btn-warning",document.getElementById("post_wall_button").className="btn btn-success",document.getElementById("post_wall_button").innerHTML='<span class="glyphicon glyphicon-send"></span>',"POST_WALL_DISABLED"==r?$.bootstrapGrowl(e+"Désolé, mais le service des publication est actuellement indisponible. Merci de réessayer plus tard.",{type:"danger",width:"auto",allow_dismiss:!1}):"TOO_FAST"==r?$.bootstrapGrowl(s+"Hé ! Tu vas un petit peu vite là. <strong>Réessaie dans quelques secondes</strong>.",{type:"warning",width:"auto",allow_dismiss:!1}):$.bootstrapGrowl(e+"Une erreur inconnue s'est produite.",{type:"danger",width:"auto",allow_dismiss:!1})}else $.bootstrapGrowl(e+"Désolé mais le serveur est <strong>indisponible</strong>.",{type:"danger",width:"auto",allow_dismiss:!1})})}else $.bootstrapGrowl(e+"Tu ne peux pas publier du vide voyons !",{type:"danger",width:"auto",allow_dismiss:!1})}),$("#avatar_file").change(function(){$("#progress_bar_upload_avatar").fadeIn(),o($("#avatar_form"))}),$("#banner_file").change(function(){$("#progress_bar_upload_banner").fadeIn(),o($("#banner_form"))}),$("#background_file").change(function(){$("#progress_bar_upload_background").fadeIn(),o($("#background_form"))}),$("#badge_file").change(function(){$("#progress_bar_upload_badge").fadeIn(),o($("#badge_form"))}),$("#default_primary_color_link").click(function(){document.getElementById("color_2").value="#56966d"});var a=1;$(document).on("click",".add_price_button",function(){if(a<=19){a++;var e=document.createElement("div");e.innerHTML=a<=19?'<span id="item_price_span_'+a+'"> <br><br> <div class="col-md-9"> <input type="text" class="form-control" id="price_item_text_box" name="price_item_text_box[]" maxlength="30"> </div> <div class="col-md-3"> <a class="btn btn-success add_price_button" id="add_price_button_'+a+'" name="add_price_button_'+a+'"><span class="glyphicon glyphicon-plus"></span></a> <a class="btn btn-danger remove_price_button" id=remove_price_button_'+a+'" name="remove_price_button_'+a+'"><span class="glyphicon glyphicon-remove"></span></a> </div> </span>':'<span id="item_price_span_'+a+'"> <br><br> <div class="col-md-9"> <input type="text" class="form-control" id="price_item_text_box" name="price_item_text_box[]" maxlength="30"> </div> <div class="col-md-3"> <a class="btn btn-danger remove_price_button" id=remove_price_button_'+a+'" name="remove_price_button_'+a+'"><span class="glyphicon glyphicon-remove"></span></a> </div> </span>';var t=document.getElementById("number_price_item_strong").innerHTML;document.getElementById("number_price_item_strong").innerHTML=+t+1}document.getElementById("items_prices").appendChild(e)}),$(document).on("click",".remove_price_button",function(){$("#item_price_span_"+a).remove(),a--;var e=document.getElementById("number_price_item_strong").innerHTML;document.getElementById("number_price_item_strong").innerHTML=+e-1}),$(".participate_contest_button").click(function(){var t=this,o=$(t).attr("contest_id"),a=$(t).attr("type"),i=$(t).attr("location");t.disabled=!0,$.post("https://acoustical-kettles.000webhostapp.com/action",{action:"join_leave_contest",contest_id:o,type:a},function(n,r){if(t.disabled=!1,"success"==r){var d=$.parseJSON(n).status;if("SUCCESS"==d)if("join_contest"==a&&"contest_list"==i){var l=document.getElementById("number_of_participants_contest_span_"+o).innerHTML;document.getElementById("number_of_participants_contest_span_"+o).innerHTML=+l+1,document.getElementById("participate_contest_button_"+o).innerHTML="Désinscrire",document.getElementById("participate_contest_button_"+o).className="btn btn-danger btn-xs participate_contest_button",$("#participate_contest_button_"+o).attr("type","leave_contest")}else if("leave_contest"==a&&"contest_list"==i){l=document.getElementById("number_of_participants_contest_span_"+o).innerHTML;document.getElementById("number_of_participants_contest_span_"+o).innerHTML=+l-1,document.getElementById("participate_contest_button_"+o).innerHTML="Participer",document.getElementById("participate_contest_button_"+o).className="btn btn-success btn-xs participate_contest_button",$("#participate_contest_button_"+o).attr("type","join_contest")}else"contest_page"==i&&window.location.reload();else"ALLOW_ONLY_MSP_ACCOUNT_LINKED"==d?$("#allow_only_msp_account_linked_modal").modal("show"):"TOO_FAST"==d?$.bootstrapGrowl(s+"Hé ! Tu vas un petit peu vite là. <strong>Réessaie dans quelques secondes</strong>.",{type:"warning",width:"auto",allow_dismiss:!1}):$.bootstrapGrowl(e+"Une erreur inconnue s'est produite.",{type:"danger",width:"auto",allow_dismiss:!1})}else $.bootstrapGrowl(e+"Désolé mais le serveur est <strong>indisponible</strong>.",{type:"danger",width:"auto",allow_dismiss:!1})})}),$("#post_comment_contest_button").click(function(){var t=$("#comment_textarea").val();if(""!=(t=t.trim())){var o=this,a=$(o).attr("contest_id"),i=document.getElementById("comment_textarea");i.disabled=!0,o.innerHTML="Envoie de ton commentaire...",o.disabled=!0,$.post("https://acoustical-kettles.000webhostapp.com/action",{action:"post_comment_contest",comment:t,contest_id:a},function(t,a){if(i.disabled=!1,o.disabled=!1,o.innerHTML="Poster le commentaire","success"==a){var n=$.parseJSON(t).status;"SUCCESS"==n?location.reload():"TOO_FAST"==n?$.bootstrapGrowl(s+"Hé ! Tu vas un petit peu vite là. <strong>Réessaie dans quelques secondes</strong>.",{type:"warning",width:"auto",allow_dismiss:!1}):$.bootstrapGrowl(e+"Une erreur inconnue s'est produite.",{type:"danger",width:"auto",allow_dismiss:!1})}else $.bootstrapGrowl(e+"Désolé mais le serveur est <strong>indisponible</strong>.",{type:"danger",width:"auto",allow_dismiss:!1})})}else $.bootstrapGrowl(e+"Ton commentaire ne peut pas être vide.",{type:"danger",width:"auto",allow_dismiss:!1})}),$("#delete_contest_comment").click(function(){var t=this,o=$("#delete_contest_comment_id_hidden").val(),a=$("#contest_id_hidden").val();t.disabled=!0,$.post("https://acoustical-kettles.000webhostapp.com/action",{action:"delete_comment_contest",comment_id:o,contest_id:a},function(o,a){if(t.disabled=!1,"success"==a){var i=$.parseJSON(o).status;"SUCCESS"==i?location.reload():"TOO_FAST"==i?$.bootstrapGrowl(s+"Hé ! Tu vas un petit peu vite là. <strong>Réessaie dans quelques secondes</strong>.",{type:"warning",width:"auto",allow_dismiss:!1}):$.bootstrapGrowl(e+"Une erreur inconnue s'est produite.",{type:"danger",width:"auto",allow_dismiss:!1})}else $.bootstrapGrowl(e+"Désolé mais le serveur est <strong>indisponible</strong>.",{type:"danger",width:"auto",allow_dismiss:!1})})}),$("#delete_contest_button").click(function(){var t=document.getElementById("delete_contest_button"),o=$(t).attr("contest_id");t.disabled=!0,$.post("https://acoustical-kettles.000webhostapp.com/action",{action:"delete_contest",contest_id:o},function(o,a){if(t.disabled=!1,"success"==a){var i=$.parseJSON(o).status;"SUCCESS"==i?window.location.replace("home"):"TOO_FAST"==i?$.bootstrapGrowl(s+"Hé ! Tu vas un petit peu vite là. <strong>Réessaie dans quelques secondes</strong>.",{type:"warning",width:"auto",allow_dismiss:!1}):$.bootstrapGrowl(e+"Une erreur inconnue s'est produite.",{type:"danger",width:"auto",allow_dismiss:!1})}else $.bootstrapGrowl(e+"Désolé mais le serveur est <strong>indisponible</strong>.",{type:"danger",width:"auto",allow_dismiss:!1})})}),$("#comments_contest_checkbox").change(function(){var e=document.getElementById("notification_new_comment_checkbox"),t=document.getElementById("only_participants_allow_to_comment_checkbox");this.checked?(e.disabled=!1,t.disabled=!1):(e.disabled=!0,t.disabled=!0)}),$("a[modal_type=delete_participant]").click(function(){if(void 0!==$(this).data("participant_id")){var e=$(this).data("participant_id");$("#participant_id_hidden").val(e)}}),$("#remove_participant_button").click(function(){var t=this,o=$("#participant_id_hidden").val(),a=$("#contest_id_hidden").val();t.disabled=!0,$.post("https://acoustical-kettles.000webhostapp.com/action",{action:"remove_participant",participant_id:o,contest_id:a},function(o,a){if(t.disabled=!1,"success"==a){var i=$.parseJSON(o).status;"SUCCESS"==i?location.reload():"TOO_FAST"==i?$.bootstrapGrowl(s+"Hé ! Tu vas un petit peu vite là. <strong>Réessaie dans quelques secondes</strong>.",{type:"warning",width:"auto",allow_dismiss:!1}):$.bootstrapGrowl(e+"Une erreur inconnue s'est produite.",{type:"danger",width:"auto",allow_dismiss:!1})}else $.bootstrapGrowl(e+"Désolé mais le serveur est <strong>indisponible</strong>.",{type:"danger",width:"auto",allow_dismiss:!1})})}),$("#select_random_number_button").click(function(){for(var e=0,t=$("#participants_table tr").length;"0"==e;)0!=(e=Math.floor(Math.random()*t))&&$("#random_number_strong").fadeOut(function(){$(this).text(e).fadeIn()})}),$("#participant_settings_contest_button").click(function(){var o=this,a=$("#contest_id_hidden").val();o.disabled=!0;var i=document.getElementById("notification_comment_author_checkbox").checked,n=document.getElementById("notification_delete_contest_checkbox").checked,r=document.getElementById("notification_end_contest_checkbox").checked;$.post("https://acoustical-kettles.000webhostapp.com/action",{action:"update_participant_settings",contest_id:a,notification_comment:i,notification_delete_contest:n,notification_end_contest:r},function(a,i){if(o.disabled=!1,"success"==i){var n=$.parseJSON(a).status;"SUCCESS"==n?($("#participant_settings_modal").modal("hide"),$.bootstrapGrowl(t+"Tes paramètres ont été mis-à-jour.",{type:"success",width:"auto",allow_dismiss:!1})):"TOO_FAST"==n?$.bootstrapGrowl(s+"Hé ! Tu vas un petit peu vite là. <strong>Réessaie dans quelques secondes</strong>.",{type:"warning",width:"auto",allow_dismiss:!1}):$.bootstrapGrowl(e+"Une erreur inconnue s'est produite.",{type:"danger",width:"auto",allow_dismiss:!1})}else $.bootstrapGrowl(e+"Désolé mais le serveur est <strong>indisponible</strong>.",{type:"danger",width:"auto",allow_dismiss:!1})})}),$("#finish_contest_button").click(function(){var t=$("#final_text_contest_textarea").val();if(""!=(t=t.trim())){var o=this,a=$(o).attr("contest_id");o.disabled=!0,$.post("https://acoustical-kettles.000webhostapp.com/action",{action:"finish_contest",contest_id:a,final_text:t},function(t,a){if(o.disabled=!1,"success"==a){var i=$.parseJSON(t),n=i.status;if("SUCCESS"==n){var r=i.contest_id;window.location.replace("endContest?c="+r)}else"TOO_FAST"==n?$.bootstrapGrowl(s+"Hé ! Tu vas un petit peu vite là. <strong>Réessaie dans quelques secondes</strong>.",{type:"warning",width:"auto",allow_dismiss:!1}):$.bootstrapGrowl(e+"Une erreur inconnue s'est produite.",{type:"danger",width:"auto",allow_dismiss:!1})}else $.bootstrapGrowl(e+"Désolé mais le serveur est <strong>indisponible</strong>.",{type:"danger",width:"auto",allow_dismiss:!1})})}else $.bootstrapGrowl(e+"Tu dois écrire quelque chose.",{type:"danger",width:"auto",allow_dismiss:!1})}),$("#confirm_contest_report").click(function(){var o=$("#report_info_textarea").val();o=o.trim();var a=$("#contest_id_hidden").val(),i=document.getElementById("confirm_contest_report");i.disabled=!0,$.post("../action",{action:"contest_report",contest_id:a,info:o},function(o,a){if(i.disabled=!1,"success"==a){var n=$.parseJSON(o).status;"SUCCESS"==n?($("#report_info_textarea").val(""),$("#report_contest_modal").modal("hide"),$.bootstrapGrowl(t+"Merci, ton signalement a été enregistré.",{type:"success",width:"auto",allow_dismiss:!1})):"ALREADY_SENT"==n?($("#report_contest_modal").modal("hide"),$.bootstrapGrowl(e+"Tu as déjà envoyé un signalement sur ce concours, <strong>inutile</strong> d'en re-envoyer un.",{type:"danger",width:"auto",allow_dismiss:!1})):"TOO_FAST"==n?$.bootstrapGrowl(s+"Hé ! Tu vas un petit peu vite là. <strong>Réessaie dans quelques secondes</strong>.",{type:"warning",width:"auto",allow_dismiss:!1}):$.bootstrapGrowl(e+"Une erreur inconnue s'est produite.",{type:"danger",width:"auto",allow_dismiss:!1})}else $.bootstrapGrowl(e+"Désolé mais le serveur est <strong>indisponible</strong>.",{type:"danger",width:"auto",allow_dismiss:!1})})}),$("#see_contests_button").click(function(){$("#contest_elements_div").html(""),$("#loading").show(),$("#contest_elements_div").load("../npr/contest_elements_big",function(){$("#loading").hide()})}),$("#see_contest_large_mode_button").click(function(){$("#contest_elements_div").html(""),$("#loading").show(),$("#contest_elements_div").load("../npr/contest_elements_big",function(){$("#loading").hide()})}),$("#see_contest_list_mode_button").click(function(){$("#contest_elements_div").html(""),$("#loading").show(),$("#contest_elements_div").load("../npr/contest_elements_list",function(){$("#loading").hide()})}),$("#admin_delete_contest_button").click(function(){var t=this,o=$("#contest_id_hidden").val();t.disabled=!0,$.post("https://acoustical-kettles.000webhostapp.com/action",{action:"admin_delete_contest",contest_id:o},function(o,a){if(t.disabled=!1,"success"==a){var i=$.parseJSON(o).status;"SUCCESS"==i?window.location.replace("home?t=sc"):"TOO_FAST"==i?$.bootstrapGrowl(s+"Hé ! Tu vas un petit peu vite là. <strong>Réessaie dans quelques secondes</strong>.",{type:"warning",width:"auto",allow_dismiss:!1}):$.bootstrapGrowl(e+"Une erreur inconnue s'est produite.",{type:"danger",width:"auto",allow_dismiss:!1})}else $.bootstrapGrowl(e+"Désolé mais le serveur est <strong>indisponible</strong>.",{type:"danger",width:"auto",allow_dismiss:!1})})}),$(".notification_contest_button").click(function(){var o=this,a=$("#contest_id_hidden").val(),i=$(o).attr("type");o.disabled=!0,$.post("https://acoustical-kettles.000webhostapp.com/action",{action:"notification_contest",type:i,contest_id:a},function(a,i){if(o.disabled=!1,"success"==i){var n=$.parseJSON(a).status;"SUCCESS"==n?$.bootstrapGrowl(t+"La notification a été envoyée.",{type:"success",width:"auto",allow_dismiss:!1}):"TOO_FAST"==n?$.bootstrapGrowl(s+"Hé ! Tu vas un petit peu vite là. <strong>Réessaie dans quelques secondes</strong>.",{type:"warning",width:"auto",allow_dismiss:!1}):$.bootstrapGrowl(e+"Une erreur inconnue s'est produite.",{type:"danger",width:"auto",allow_dismiss:!1})}else $.bootstrapGrowl(e+"Désolé mais le serveur est <strong>indisponible</strong>.",{type:"danger",width:"auto",allow_dismiss:!1})})}),$("#update_username_button").click(function(){var t=$("#change_username_text_box").val();if(""!=(t=t.trim()))if(t.length>=4){var o=this;o.disabled=!0,$.post("https://acoustical-kettles.000webhostapp.com/action",{action:"update_username",username:t},function(t,a){if(o.disabled=!1,"success"==a){var i=$.parseJSON(t).status;"SUCCESS"==i?location.reload():"USER_ALREADY_TAKEN"==i?$.bootstrapGrowl(e+"Zut, ce pseudo est <strong>déjà utilisé</strong>.",{type:"danger",width:"auto",allow_dismiss:!1}):"TOO_FAST"==i?$.bootstrapGrowl(s+"Hé ! Tu vas un petit peu vite là. <strong>Réessaie dans quelques secondes</strong>.",{type:"warning",width:"auto",allow_dismiss:!1}):$.bootstrapGrowl(e+"Une erreur inconnue s'est produite.",{type:"danger",width:"auto",allow_dismiss:!1})}else $.bootstrapGrowl(e+"Désolé mais le serveur est <strong>indisponible</strong>.",{type:"danger",width:"auto",allow_dismiss:!1})})}else $.bootstrapGrowl(e+"Ton pseudo doit faire au minimum <strong>4 caractères.</strong>",{type:"danger",width:"auto",allow_dismiss:!1});else $.bootstrapGrowl(e+"Tu dois entrer un nouveau pseudo.",{type:"danger",width:"auto",allow_dismiss:!1})}),$("#notifications_tab").click(function(){window.history.pushState("","","account?t=n"),$("#notification_elements_div").html(""),$("#loading").show(),$("#notification_elements_div").load("npr/notification_elements",function(){$("#loading").hide()})}),$(".add_smiley_button").click(function(){var e=$(this).attr("smiley"),t=$(this).attr("location");if("mb_new_post"==t){var s=$("#post_textarea");s.val(s.val()+e+" ")}else if("forum_new_subject"==t){(i=$("#description_text_area")).val(i.val()+e+" ")}else if("forum_new_comment_subject"==t){var o=$("#forum_comment_subject_textarea");o.val(o.val()+e+" ")}else if("contest_new_comment"==t){var a=$("#comment_textarea");a.val(a.val()+e+" ")}else if("new_contest"==t){var i;(i=$("#description_text_area")).val(i.val()+e+" ")}$("#smileys_modal").modal("hide")}),$("#create_subject_button").click(function(){var t=$("#subject_name_text_box").val();t=t.trim();var s=$("#description_text_area").val();if(s=s.trim(),""!=t)if(""!=s)if(t.length>2)if(s.length>2){var o=$("#switch_category_subject_combobox_1").val(),a=this,i=document.getElementById("subject_name_text_box"),n=document.getElementById("description_text_area"),r=document.getElementById("notification_new_subject_friend_checkbox").checked,d=document.getElementById("notification_new_comment_checkbox").checked;a.disabled=!0,a.innerHTML="Création de ton sujet...",i.disabled=!0,n.disabled=!0,$.post("https://acoustical-kettles.000webhostapp.com/action",{action:"forum_create_subject",title:t,description:s,notification_new_subject_friend:r,notification_new_comment:d,type:o},function(t,s){if(i.disabled=!1,n.disabled=!1,a.disabled=!1,a.innerHTML="Crée-moi mon sujet !","success"==s){var o=$.parseJSON(t);if("SUCCESS"==o.status){var r=o.subject_id;window.location.replace("subject?id="+r)}else $.bootstrapGrowl(e+"Une erreur inconnue s'est produite.",{type:"danger",width:"auto",allow_dismiss:!1})}else $.bootstrapGrowl(e+"Désolé mais le serveur est <strong>indisponible</strong>.",{type:"danger",width:"auto",allow_dismiss:!1})})}else $.bootstrapGrowl(e+"La description de ton sujet doit avoir <strong>plus de 2 caractères</strong>.",{type:"danger",width:"auto",allow_dismiss:!1});else $.bootstrapGrowl(e+"Le titre de ton sujet doit avoir <strong>plus de 2 caractères</strong>.",{type:"danger",width:"auto",allow_dismiss:!1});else $.bootstrapGrowl(e+"La description de ton sujet ne peut pas être <strong>vide</strong>.",{type:"danger",width:"auto",allow_dismiss:!1});else $.bootstrapGrowl(e+"Le titre de ton sujet ne peut pas être <strong>vide</strong>.",{type:"danger",width:"auto",allow_dismiss:!1})}),$("#forum_delete_my_subject_button").click(function(){var t=$("#subject_id_hidden").val(),s=document.getElementById("forum_delete_my_subject_button");s.disabled=!0,$.post("https://acoustical-kettles.000webhostapp.com/action",{action:"forum_delete_my_subject",subject_id:t},function(t,o){(s.disabled=!1,"success"==o)?"SUCCESS"==$.parseJSON(t).status?window.location.replace("home"):$.bootstrapGrowl(e+"Une erreur inconnue s'est produite.",{type:"danger",width:"auto",allow_dismiss:!1}):$.bootstrapGrowl(e+"Désolé mais le serveur est <strong>indisponible</strong>.",{type:"danger",width:"auto",allow_dismiss:!1})})}),$("#pin_my_subject_button").click(function(){var t=$("#subject_id_hidden").val(),s=document.getElementById("pin_my_subject_button");s.disabled=!0,$.post("https://acoustical-kettles.000webhostapp.com/action",{action:"pin_my_subject",subject_id:t},function(t,o){(s.disabled=!1,"success"==o)?"SUCCESS"==$.parseJSON(t).status?location.reload():$.bootstrapGrowl(e+"Une erreur inconnue s'est produite.",{type:"danger",width:"auto",allow_dismiss:!1}):$.bootstrapGrowl(e+"Désolé mais le serveur est <strong>indisponible</strong>.",{type:"danger",width:"auto",allow_dismiss:!1})})}),$("#update_settings_my_subject_button").click(function(){var t=$("#subject_name_text_box").val();t=t.trim();var s=$("#description_text_area").val();if(s=s.trim(),""!=t)if(""!=s)if(t.length>2)if(s.length>2){var o=$("#subject_id_hidden").val(),a=document.getElementById("update_settings_my_subject_button"),i=document.getElementById("subject_name_text_box"),n=document.getElementById("description_text_area"),r=document.getElementById("notification_new_comment_checkbox").checked;a.innerHTML="Sauvegarde...",a.disabled=!0,i.disabled=!0,n.disabled=!0,$.post("https://acoustical-kettles.000webhostapp.com/action",{action:"update_settings_my_subject",subject_id:o,title:t,description:s,notification_new_comment:r},function(t,s){(i.disabled=!1,n.disabled=!1,a.innerHTML='<span class="glyphicon glyphicon-ok"></span> Sauvegarder',"success"==s)?"SUCCESS"==$.parseJSON(t).status?location.reload():$.bootstrapGrowl(e+"Une erreur inconnue s'est produite.",{type:"danger",width:"auto",allow_dismiss:!1}):$.bootstrapGrowl(e+"Désolé mais le serveur est <strong>indisponible</strong>.",{type:"danger",width:"auto",allow_dismiss:!1})})}else $.bootstrapGrowl(e+"La description de ton sujet doit avoir <strong>plus de 2 caractères</strong>.",{type:"danger",width:"auto",allow_dismiss:!1});else $.bootstrapGrowl(e+"Le titre de ton sujet doit avoir <strong>plus de 2 caractères</strong>.",{type:"danger",width:"auto",allow_dismiss:!1});else $.bootstrapGrowl(e+"La description de ton sujet ne peut pas être <strong>vide</strong>.",{type:"danger",width:"auto",allow_dismiss:!1});else $.bootstrapGrowl(e+"Le titre de ton sujet ne peut pas être <strong>vide</strong>.",{type:"danger",width:"auto",allow_dismiss:!1})}),$("#forum_send_comment_subject_button").click(function(){var t=$("#forum_comment_subject_textarea").val();if(""!=(t=t.trim())){var s=$("#subject_id_hidden").val(),o=this;o.disabled=!0,o.innerHTML="Envoie de ton commentaire...";var a=document.getElementById("forum_comment_subject_textarea");a.disabled=!0,$.post("https://acoustical-kettles.000webhostapp.com/action",{action:"forum_send_comment_subject",subject_id:s,content:t},function(t,s){(o.disabled=!1,a.disabed=!1,o.innerHTML="Envoyer le commentaire","success"==s)?"SUCCESS"==$.parseJSON(t).status?location.reload():$.bootstrapGrowl(e+"Une erreur inconnue s'est produite.",{type:"danger",width:"auto",allow_dismiss:!1}):$.bootstrapGrowl(e+"Désolé mais le serveur est <strong>indisponible</strong>.",{type:"danger",width:"auto",allow_dismiss:!1})})}else $.bootstrapGrowl(e+"Ton commentaire ne peut pas être <strong>vide</strong>.",{type:"danger",width:"auto",allow_dismiss:!1})}),$("a[modal_type=forum_delete_comment]").click(function(){if(void 0!==$(this).data("comment_id")){var e=$(this).data("comment_id");$("#delete_subject_comment_id_hidden").val(e)}}),$("#forum_delete_comment_button").click(function(){var t=$("#subject_id_hidden").val(),s=$("#delete_subject_comment_id_hidden").val(),o=document.getElementById("forum_delete_comment_button");o.disabled=!0,$.post("https://acoustical-kettles.000webhostapp.com/action",{action:"forum_delete_comment_subject",subject_id:t,comment_id:s},function(t,s){(o.disabled=!1,"success"==s)?"SUCCESS"==$.parseJSON(t).status?location.reload():$.bootstrapGrowl(e+"Une erreur inconnue s'est produite.",{type:"danger",width:"auto",allow_dismiss:!1}):$.bootstrapGrowl(e+"Désolé mais le serveur est <strong>indisponible</strong>.",{type:"danger",width:"auto",allow_dismiss:!1})})}),$("#forum_update_notification_new_comments_subject_button").click(function(){var s=$("#subject_id_hidden").val(),o=this;o.disabled=!0,$.post("https://acoustical-kettles.000webhostapp.com/action",{action:"forum_update_notification_new_comments_subject",subject_id:s},function(s,a){if(o.disabled=!1,"success"==a){var i=$.parseJSON(s);if("SUCCESS"==i.status){var n=i.notifications;"ENABLED"==n?(document.getElementById("forum_update_notification_new_comments_subject_button").className="btn btn-success pull-right",$.bootstrapGrowl(t+"Tu recevras maintenant des notifications concernant ce sujet.",{type:"success",width:"auto",allow_dismiss:!1})):(n="DISABLED")&&(document.getElementById("forum_update_notification_new_comments_subject_button").className="btn btn-default pull-right",$.bootstrapGrowl(t+"Tu ne recevras plus de notification concernant ce sujet.",{type:"success",width:"auto",allow_dismiss:!1}))}else $.bootstrapGrowl(e+"Une erreur inconnue s'est produite.",{type:"danger",width:"auto",allow_dismiss:!1})}else $.bootstrapGrowl(e+"Désolé mais le serveur est <strong>indisponible</strong>.",{type:"danger",width:"auto",allow_dismiss:!1})})}),$(".receive_award_achievement_button").click(function(){var t=this;t.disabled=!0;var s=$(t).attr("achievement_name");$.post("https://acoustical-kettles.000webhostapp.com/action",{action:"receive_award_achievement",achievement_name:s},function(s,o){(t.disabled=!1,"success"==o)?"SUCCESS"==$.parseJSON(s).status?location.reload():$.bootstrapGrowl(e+"Une erreur inconnue s'est produite.",{type:"danger",width:"auto",allow_dismiss:!1}):$.bootstrapGrowl(e+"Désolé mais le serveur est <strong>indisponible</strong>.",{type:"danger",width:"auto",allow_dismiss:!1})})}),$("#create_contest_button").click(function(){window.history.pushState("","","home?t=cc")}),$("a[modal_type=contest_delete_comment_modal]").click(function(){if(void 0!==$(this).data("comment_id")){var e=$(this).data("comment_id");$("#delete_contest_comment_id_hidden").val(e)}}),$("#create_sponsorship_link_button").click(function(){var t=this;t.disabled=!0,$.post("https://acoustical-kettles.000webhostapp.com/action",{action:"create_sponsorship_link"},function(s,o){(t.disabled=!1,"success"==o)?"SUCCESS"==$.parseJSON(s).status?location.reload():$.bootstrapGrowl(e+"Une erreur inconnue s'est produite.",{type:"danger",width:"auto",allow_dismiss:!1}):$.bootstrapGrowl(e+"Désolé mais le serveur est <strong>indisponible</strong>.",{type:"danger",width:"auto",allow_dismiss:!1})})}),$("#delete_sponsorship_link_button").click(function(){var t=this;t.disabled=!0,$.post("https://acoustical-kettles.000webhostapp.com/action",{action:"delete_sponsorship_link"},function(s,o){(t.disabled=!1,"success"==o)?"SUCCESS"==$.parseJSON(s).status?location.reload():$.bootstrapGrowl(e+"Une erreur inconnue s'est produite.",{type:"danger",width:"auto",allow_dismiss:!1}):$.bootstrapGrowl(e+"Désolé mais le serveur est <strong>indisponible</strong>.",{type:"danger",width:"auto",allow_dismiss:!1})})}),$("#copy_sponsorship_link_button").click(function(){var e,s,o=$(this).attr("link");e=o,(s=document.createElement("textarea")).style.position="fixed",s.style.top=0,s.style.left=0,s.style.width="2em",s.style.height="2em",s.style.padding=0,s.style.border="none",s.style.outline="none",s.style.boxShadow="none",s.style.background="transparent",s.value=e,document.body.appendChild(s),s.select(),document.execCommand("copy"),document.body.removeChild(s),$.bootstrapGrowl(t+"Le lien de parainage a été copié.",{type:"success",width:"auto",allow_dismiss:!1})}),$("#confirm_msp_account_button").click(function(){var s=$("#user_id_confirm_msp_account_text_box").val();if(""!=s){var o=document.getElementById("user_id_confirm_msp_account_text_box"),a=this;a.disabled=!0,o.disabled=!0,$.post("https://acoustical-kettles.000webhostapp.com/action",{action:"admin_confirm_msp_account",user_id:s},function(s,i){if(a.disabled=!1,o.disabled=!1,"success"==i){var n=$.parseJSON(s).status;"SUCCESS"==n?$.bootstrapGrowl(t+"Le compte MSP a bien été <strong>confirmé</strong>.",{type:"success",width:"auto",allow_dismiss:!1}):"NOT_FOUND"==n?$.bootstrapGrowl(e+"L'ID entré est <strong>incorrect</strong>, ou aucun compte MSP n'est associé avec cet ID ou alors le compte MSP est <strong>déjà confirmé</strong>.",{type:"danger",width:"auto",allow_dismiss:!1}):$.bootstrapGrowl(e+"Une erreur inconnue s'est produite.",{type:"danger",width:"auto",allow_dismiss:!1})}else $.bootstrapGrowl(e+"Désolé mais le serveur est <strong>indisponible</strong>.",{type:"danger",width:"auto",allow_dismiss:!1})})}else $.bootstrapGrowl(e+"Tu dois entrer un ID.",{type:"danger",width:"auto",allow_dismiss:!1})}),$("#smileys_modal").on("hidden.bs.modal",function(e){$(".modal:visible").length&&$("body").addClass("modal-open")}),$("#btn_2").click(function(){var t=$("#password_event_halloween_text_box").val();if(""!=t){var s=this,o=$(s).attr("type");s.disabled=!0,$.post("https://acoustical-kettles.000webhostapp.com/action",{action:"check_password_event_halloween",string:t,type:o},function(t,o){if(s.disabled=!1,"success"==o){var a=$.parseJSON(t).status;if("SUCCESS"==a)new Audio("assets/eventHalloween/riddleTransition.mp3").play(),$("#form_2").fadeOut("slow",function(){$("#form_3").fadeIn(500)}),setTimeout(function(){new Audio("assets/eventHalloween/bansheeDisappear.mp3").play(),$("#juste_le_commencement").fadeIn(500),setTimeout(function(){$("#page_title").fadeOut(500),$("#form_3").fadeOut("slow",function(){jsdisj()})},4e3)},4e3);else"WRONG_PASSWORD"==a?$.bootstrapGrowl(e+"Le mot de passe n'est pas bon.",{type:"danger",width:"auto",allow_dismiss:!1}):$.bootstrapGrowl(e+"Une erreur inconnue s'est produite.",{type:"danger",width:"auto",allow_dismiss:!1})}else $.bootstrapGrowl(e+"Désolé mais le serveur est <strong>indisponible</strong>.",{type:"danger",width:"auto",allow_dismiss:!1})})}else $.bootstrapGrowl(e+"Tu dois entrer un mot de passe.",{type:"danger",width:"auto",allow_dismiss:!1})}),$("#points_history_tab").click(function(){window.history.pushState("","","account?t=ph")}),$("#update_points_button").click(function(){var s=$("#user_id_update_points_text_box").val(),o=$("#points_update_points_text_box").val(),a=$("#reason_update_points_text_box").val();if(""!=s&&""!=o&&""!=a){var i=document.getElementById("user_id_update_points_text_box"),n=document.getElementById("points_update_points_text_box"),r=document.getElementById("reason_update_points_text_box"),d=this;d.disabled=!0,i.disabled=!0,n.disabled=!0,r.disabled=!0,$.post("https://acoustical-kettles.000webhostapp.com/action",{action:"admin_update_points",user_id:s,points:o,reason:a},function(s,o){(d.disabled=!1,i.disabled=!1,n.disabled=!1,r.disabled=!1,"success"==o)?"SUCCESS"==$.parseJSON(s).status?$.bootstrapGrowl(t+"Les points du compte ont bien été <strong>mis-à-jour</strong>.",{type:"success",width:"auto",allow_dismiss:!1}):$.bootstrapGrowl(e+"Une erreur inconnue s'est produite.",{type:"danger",width:"auto",allow_dismiss:!1}):$.bootstrapGrowl(e+"Désolé mais le serveur est <strong>indisponible</strong>.",{type:"danger",width:"auto",allow_dismiss:!1})})}else $.bootstrapGrowl(e+"Tu dois entrer un <strong>ID</strong>, les <strong>points</strong> à rajouter ou à enlever et la <strong>raison</strong>.",{type:"danger",width:"auto",allow_dismiss:!1})}),$("#admin_send_notification_button").click(function(){var s=$("#content_notification_textarea").val();if(""!=s){var o=$("#user_id_send_notification_text_box").val(),a=document.getElementById("send_to_all_notification_checkbox").checked,i=document.getElementById("user_id_send_notification_text_box"),n=document.getElementById("content_notification_textarea"),r=this;i.disabled=!0,n.disabled=!0,r.disabled=!0,$.post("https://acoustical-kettles.000webhostapp.com/action",{action:"admin_send_notification",user_id:o,content:s,type:a},function(s,o){(i.disabled=!1,n.disabled=!1,r.disabled=!1,"success"==o)?"SUCCESS"==$.parseJSON(s).status?$.bootstrapGrowl(t+"La notification a été envoyée.",{type:"success",width:"auto",allow_dismiss:!1}):$.bootstrapGrowl(e+"Une erreur inconnue s'est produite.",{type:"danger",width:"auto",allow_dismiss:!1}):$.bootstrapGrowl(e+"Désolé mais le serveur est <strong>indisponible</strong>.",{type:"danger",width:"auto",allow_dismiss:!1})})}else $.bootstrapGrowl(e+"Tu dois entrer le <strong>contenu</strong> de la notification.",{type:"danger",width:"auto",allow_dismiss:!1})}),$(".update_website_theme_button").click(function(){var t=this,s=$(t).attr("type");t.disabled=!0,$.post("https://acoustical-kettles.000webhostapp.com/action",{action:"update_website_theme",type:s},function(s,o){(t.disabled=!1,"success"==o)?"SUCCESS"==$.parseJSON(s).status?window.location.replace("/"):$.bootstrapGrowl(e+"Une erreur inconnue s'est produite.",{type:"danger",width:"auto",allow_dismiss:!1}):$.bootstrapGrowl(e+"Désolé mais le serveur est <strong>indisponible</strong>.",{type:"danger",width:"auto",allow_dismiss:!1})})}),$("#switch_category_subject_combobox").change(function(){var e=$(this).val();"1"==e?window.location.replace("home?t=1"):"2"==e?window.location.replace("home?t=2"):"3"==e?window.location.replace("home?t=3"):"4"==e?window.location.replace("home?t=4"):"5"==e?window.location.replace("home?t=5"):"6"==e?window.location.replace("home?t=6"):"7"==e&&window.location.replace("home?t=7")}),$("#update_music_background").click(function(){var e=$(this).attr("type"),t=$(this).attr("youtube_link");"disable"==e?(this.innerHTML='<span class="glyphicon glyphicon-volume-up"></span>',$("#youtube_music_background")[0].src="",$("#update_music_background").attr("type","enable")):"enable"==e&&(this.innerHTML='<span class="glyphicon glyphicon-volume-off"></span>',$("#youtube_music_background")[0].src="https://www.youtube.com/embed/"+t+"?autoplay=1&rel=0",$("#update_music_background").attr("type","disable"))}),$("#ban_account_button").click(function(){var s=$("#user_id_ban_account_text_box").val(),o=$("#reason_ban_account_text_box").val(),a=$("#number_of_weeks_ban_account_text_box").val(),i=$("input[name='type_ban']:checked").val();if(""!=s&&""!=o&&""!=a){var n=document.getElementById("user_id_ban_account_text_box"),r=document.getElementById("reason_ban_account_text_box"),d=document.getElementById("number_of_weeks_ban_account_text_box"),l=this;l.disabled=!0,n.disabled=!0,r.disabled=!0,d.disabled=!0,$.post("https://acoustical-kettles.000webhostapp.com/action",{action:"admin_ban_account",user_id:s,reason:o,number_of_weeks:a,type:i},function(s,o){if(l.disabled=!1,n.disabled=!1,r.disabled=!1,d.disabled=!1,"success"==o){var a=$.parseJSON(s).status;"SUCCESS"==a?"ban"==i?$.bootstrapGrowl(t+"Le compte a bien été <strong>banni</strong>.",{type:"success",width:"auto",allow_dismiss:!1}):$.bootstrapGrowl(t+"Le compte a bien été <strong>débanni</strong>.",{type:"success",width:"auto",allow_dismiss:!1}):"ALREADY_BANNED"==a?$.bootstrapGrowl(e+"Ce compte est déjà banni.",{type:"danger",width:"auto",allow_dismiss:!1}):"NOT_BANNED"==a?$.bootstrapGrowl(e+"Ce compte n'est pas banni.",{type:"danger",width:"auto",allow_dismiss:!1}):$.bootstrapGrowl(e+"Une erreur inconnue s'est produite.",{type:"danger",width:"auto",allow_dismiss:!1})}else $.bootstrapGrowl(e+"Désolé mais le serveur est <strong>indisponible</strong>.",{type:"danger",width:"auto",allow_dismiss:!1})})}else $.bootstrapGrowl(e+"Tu dois entrer un <strong>ID</strong>, la <strong>raison</strong> ainsi que le <strong>nombre de semaine</strong> à bannir.",{type:"danger",width:"auto",allow_dismiss:!1})}),$(".update_badge_button").click(function(){var t=this,s=$(t).attr("badge_id");t.disabled=!0,$.post("https://acoustical-kettles.000webhostapp.com/action",{action:"update_badge",badge_id:s},function(s,o){(t.disabled=!1,"success"==o)?"SUCCESS"==$.parseJSON(s).status?location.reload():$.bootstrapGrowl(e+"Une erreur inconnue s'est produite.",{type:"danger",width:"auto",allow_dismiss:!1}):$.bootstrapGrowl(e+"Désolé mais le serveur est <strong>indisponible</strong>.",{type:"danger",width:"auto",allow_dismiss:!1})})}),$("#unactive_badge_button").click(function(){var t=this;t.disabled=!0,$.post("https://acoustical-kettles.000webhostapp.com/action",{action:"unactive_badge"},function(s,o){(t.disabled=!1,"success"==o)?"SUCCESS"==$.parseJSON(s).status?location.reload():$.bootstrapGrowl(e+"Une erreur inconnue s'est produite.",{type:"danger",width:"auto",allow_dismiss:!1}):$.bootstrapGrowl(e+"Désolé mais le serveur est <strong>indisponible</strong>.",{type:"danger",width:"auto",allow_dismiss:!1})})}),$("#send_order_rare_button").click(function(){var t=$("#msp_username_text_box").val(),s=$("#select_rare_combo_box").find("option:selected").val();if(""!=t){var o=document.getElementById("msp_username_text_box"),a=document.getElementById("select_rare_combo_box"),i=this;i.innerHTML="Envoie de ta commande...",i.disabled=!0,o.disabled=!0,a.disabled=!0,$.post("https://acoustical-kettles.000webhostapp.com/action",{action:"rare_send_order",msp_username:t,rare_id:s},function(t,s){if(i.innerHTML="Envoyer la commande",i.disabled=!1,o.disabled=!1,a.disabled=!1,"success"==s){var n=$.parseJSON(t).status;"SUCCESS"==n?location.reload():"MSP_USERNAME_ALREADY_IN_WAITING_LINE"==n?$.bootstrapGrowl(e+"Désolé, mais il y a déjà une commande en cours avec le pseudo MSP que tu as indiqué.",{type:"danger",width:"auto",allow_dismiss:!1}):$.bootstrapGrowl(e+"Une erreur inconnue s'est produite.",{type:"danger",width:"auto",allow_dismiss:!1})}else $.bootstrapGrowl(e+"Désolé mais le serveur est <strong>indisponible</strong>.",{type:"danger",width:"auto",allow_dismiss:!1})})}else $.bootstrapGrowl(e+"Tu dois entrer un pseudo MSP.",{type:"danger",width:"auto",allow_dismiss:!1})}),$("#delete_order_button").click(function(){var t=this;t.innerHTML="Suppression...",t.disabled=!0,$.post("https://acoustical-kettles.000webhostapp.com/action",{action:"rare_delete_order"},function(s,o){(t.innerHTML="Supprimer ma commande",t.disabled=!1,"success"==o)?"SUCCESS"==$.parseJSON(s).status?location.reload():$.bootstrapGrowl(e+"Une erreur inconnue s'est produite.",{type:"danger",width:"auto",allow_dismiss:!1}):$.bootstrapGrowl(e+"Désolé mais le serveur est <strong>indisponible</strong>.",{type:"danger",width:"auto",allow_dismiss:!1})})}),$("#order_completed_button").click(function(){var t=$("#order_id_text_box").val();if(""!=t){var s=document.getElementById("order_id_text_box"),o=this;o.innerHTML="La commande se compléte...",o.disabled=!0,s.disabled=!0,$.post("https://acoustical-kettles.000webhostapp.com/action",{action:"rare_complete_order",order_id:t},function(t,a){if(o.innerHTML="Compléter la commande",o.disabled=!1,s.disabled=!1,"success"==a){var i=$.parseJSON(t).status;"SUCCESS"==i?location.reload():"ORDER_NOT_FOUND"==i?$.bootstrapGrowl(e+"Ce numéro de commande est introuvable.",{type:"danger",width:"auto",allow_dismiss:!1}):$.bootstrapGrowl(e+"Une erreur inconnue s'est produite.",{type:"danger",width:"auto",allow_dismiss:!1})}else $.bootstrapGrowl(e+"Désolé mais le serveur est <strong>indisponible</strong>.",{type:"danger",width:"auto",allow_dismiss:!1})})}else $.bootstrapGrowl(e+"Tu dois entrer le # de la commande.",{type:"danger",width:"auto",allow_dismiss:!1})})});